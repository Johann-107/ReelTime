{% extends 'reel_time/partials/base.html' %}

{% load static %}

{% block title %}{{ detail.movie.title }} - ReelTime{% endblock title %}

{% block extra_head %}
    <link rel="stylesheet" href="{% static 'css/movie_detail.css' %}">
{% endblock extra_head %}

{% block content %}
<div class="page-content">
    <div class="container">
        <div class="movie-detail-container">
                
            {# Section for the Movie Poster #}
            <div class="movie-poster-section">
                {% comment %} 
                    NOTE: Replace 'detail.movie.poster_url' with your actual field name 
                    that holds the URL or path to the movie poster/logo.
                {% endcomment %}
                {% if detail.movie.poster_url %} 
                    <img src="{{ detail.movie.poster_url }}" alt="{{ detail.movie.title }} Poster" class="movie-detail-poster">
                {% else %}
                    {# Fallback if no poster URL is available #}
                    <img src="{% static 'images/default_poster.png' %}" alt="Default Movie Poster" class="movie-detail-poster placeholder">
                {% endif %}
            </div>

            {# Section for Movie Information #}
            <div class="movie-info-section">
                <h2>{{ detail.movie.title }}</h2>

                <p><strong>Release Date:</strong> {{ release_label }}</p>
                <p><strong>End Date:</strong> {{ end_date_label }}</p>
                <p><strong>Showing Times:</strong> {{ showing_times_display }}</p>
                <p><strong>Genre:</strong> {{ detail.movie.genre }}</p>
                <p><strong>Description:</strong> {{ detail.movie.description }}</p>

                {% if can_manage %}
                    <div class="actions">
                        <a href="{% url 'edit_movie' detail.pk %}" class="btn btn-warning">Edit</a>
                        <a href="{% url 'delete_movie' detail.pk %}" class="btn btn-danger" 
                            onclick="return confirm('Are you sure you want to delete this movie?');">
                            Delete
                        </a>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock content %}

{% block extra_js %}
{% endblock extra_js %}