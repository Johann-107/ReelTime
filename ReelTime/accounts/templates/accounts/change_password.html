{% extends 'reel_time/partials/base.html' %} 
{% load static %} 

{# 1. PAGE TITLE BLOCK #}
{% block title %}
    Change Password
{% endblock title %}

---

{# 2. PAGE-SPECIFIC CSS BLOCK: UPDATED LINK HERE #}
{% block extra_head %}
    <link rel="stylesheet" href="{% static 'css/change_password.css' %}"> 
    {# Using the updated file name: change_password.css #}
{% endblock extra_head %}

---

{# 3. MAIN CONTENT BLOCK #}
{% block content %}
<main>
    <div class="auth-container">
        <h1>Change Password</h1>
        
        {# Display Django messages #}
        {% if messages %}
        <div class="message-container">
            {% for message in messages %}
                <p class="{{ message.tags }}">{{ message }}</p>
            {% endfor %}
        </div>
        {% endif %}

        <form method="POST" class="auth-form">
            {% csrf_token %}
            
            <div class="form-group">
                <label for="new_password">New Password:</label>
                <input type="password" name="new_password" id="new_password" required>
            </div>

            <div class="form-group">
                <label for="confirm_password">Confirm Password:</label>
                <input type="password" name="confirm_password" id="confirm_password" required>
            </div>

            <button type="submit">Update Password</button>
        </form>
        
        <div class="form-footer">
            {% if request.session.is_admin %}
                <a href="{% url 'admin_dashboard' %}" class="btn-ghost">Back to Dashboard</a>
            {% else %}
                <a href="{% url 'user_dashboard' %}" class="btn-ghost">Back to Dashboard</a>
            {% endif %}
        </div>
    </div>
</main>
{% endblock content %}

---

{# 4. PAGE-SPECIFIC JAVASCRIPT BLOCK #}
{% block extra_js %}
    {% if registration_success %}
    <script>
        alert("Admin account created successfully! Please change your password.");
    </script>
    {% endif %}
{% endblock extra_js %}