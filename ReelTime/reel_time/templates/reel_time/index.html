{% extends 'reel_time/partials/base.html' %} 
{% load static %}

{% block title %}ReelTime - Home Page{% endblock title %}

{% block extra_head %}
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <link rel="stylesheet" href="{% static 'css/login.css' %}">
{% endblock extra_head %}

{% block content %}
    <section class="hero-new-design">
        <div class="container hero-split-content">
            <div class="hero-text-content">
                <h1 class="hero-title">Your Movie <span class="hero-accent">ReelTime</span> Starts Now</h1>
                <p class="hero-description">Book your favorite movies in under 2 minutes. Choose your seats, pick your showtime, and enjoy the magic of cinema.</p>
                <div class="hero-buttons">
                    <a href="{% url 'index' %}" class="btn btn-start-watching btn-lg">Start Watching 
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 18px; height: 18px; margin-left: 8px;">
                            <path d="M5 12h14M12 5l7 7-7 7"></path>
                        </svg>
                    </a>
                    <a href="#" onclick="openLoginModal(); return false;" class="btn btn-ghost-dark btn-lg">Sign In</a>
                </div>
            </div>

            <div class="coming-soon-panel">
                <h2 class="panel-title">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 24px; height: 24px; margin-right: 8px;">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                        <line x1="16" y1="2" x2="16" y2="6"></line>
                        <line x1="8" y1="2" x2="8" y2="6"></line>
                        <line x1="3" y1="10" x2="21" y2="10"></line>
                    </svg>
                    Coming Soon
                </h2>
                <div class="coming-soon-list">
                    <a href="{% url 'index' %}" class="coming-soon-item">
                        <img src="{% static 'images/futuristic-sci-fi-movie-poster-tron-ares.jpeg' %}" alt="Tron: Ares" class="coming-soon-poster">
                        <div class="coming-soon-details">
                            <p class="movie-title-small">Tron: Ares</p>
                            <p class="movie-genre-small">Sci-Fi</p>
                        </div>
                    </a>
                    <a href="{% url 'index' %}" class="coming-soon-item">
                        <img src="{% static 'images/adventure-movie-poster-avatar-fire-ash.jpg' %}" alt="Avatar: Fire and Ash" class="coming-soon-poster">
                        <div class="coming-soon-details">
                            <p class="movie-title-small">Avatar: Fire and Ash</p>
                            <p class="movie-genre-small">Adventure</p>
                        </div>
                    </a>
                    <a href="{% url 'index' %}" class="coming-soon-item">
                        <img src="{% static 'images/action-movie-poster-predator-badlands.webp' %}" alt="Predator: Badlands" class="coming-soon-poster">
                        <div class="coming-soon-details">
                            <p class="movie-title-small">Predator: Badlands</p>
                            <p class="movie-genre-small">Action</p>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </section>
    
    <section class="hero-content-scroll">
        <div class="container">
            <div class="recommendations-section">
                <h2 class="section-title-white">Movie Recommendations</h2>
                <p class="section-subtitle-white">Discover amazing movies handpicked just for you</p>
                <div class="movie-grid" id="moviesGrid">
                    <div class="movie-card-new">
                        <img src="{% static 'images/comedy-movie-the-roses.jpg' %}" alt="The Roses" class="movie-poster-new">
                        <div class="movie-details-new">
                            <h3 class="movie-title-new">The Roses</h3>
                            <p class="movie-meta-new">Comedy</p>
                            <div class="movie-rating-new">
                                <span class="stars">★★★★★</span>
                                <span>4.7/5</span>
                            </div>
                            <div class="movie-actions">
                                <a href="#" onclick="openLoginModal(); return false;" class="btn btn-accent btn-book">Book Now</a>
                                <a href="{% url 'index' %}" class="btn btn-info">More Info</a>
                            </div>
                        </div>
                    </div>
                    <div class="movie-card-new">
                        <img src="{% static 'images/anime-demon-slayer.jpg' %}" alt="Demon Slayer: Kimetsu No Yaiba" class="movie-poster-new">
                        <div class="movie-details-new">
                            <h3 class="movie-title-new">Demon Slayer: Kimetsu No Yaiba</h3>
                            <p class="movie-meta-new">Action</p>
                            <div class="movie-rating-new">
                                <span class="stars">★★★★★</span>
                                <span>4.8/5</span>
                            </div>
                            <div class="movie-actions">
                                <a href="#" onclick="openLoginModal(); return false;" class="btn btn-accent btn-book">Book Now</a>
                                <a href="{% url 'index' %}" class="btn btn-info">More Info</a>
                            </div>
                        </div>
                    </div>
                    <div class="movie-card-new">
                        <img src="{% static 'images/horror-the-conjuring.jpg' %}" alt="The Conjuring: Last Rites" class="movie-poster-new">
                        <div class="movie-details-new">
                            <h3 class="movie-title-new">The Conjuring: Last Rites</h3>
                            <p class="movie-meta-new">Horror</p>
                            <div class="movie-rating-new">
                                <span class="stars">★★★★★</span>
                                <span>4.8/5</span>
                            </div>
                            <div class="movie-actions">
                                <a href="#" onclick="openLoginModal(); return false;" class="btn btn-accent btn-book">Book Now</a>
                                <a href="{% url 'index' %}" class="btn btn-info">More Info</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="booking-cta-banner">
                <h3 class="booking-cta-title">Ready to Book Your Movie?</h3>
                <p class="booking-cta-subtitle">Sign up now to reserve your seats and enjoy the ultimate cinema experience.</p>
                <div class="booking-cta-actions">
                    <a href="#" onclick="openRegisterModal(); return false;" class="btn btn-accent btn-lg">Create Account</a>
                    <a href="#" onclick="openLoginModal(); return false;" class="btn btn-info btn-lg">Sign In</a> 
                </div>
            </div>
        </div>
    </section>
    
    <section class="mission-section">
        <div class="container">
            <h4 class="mission-title">Why Choose ReelTime?</h4>
            <p class="mission-statement">"More Than Just Tickets — ReelTime Delivers Unforgettable Movie Moments, Anytime, Anywhere."</p>
        </div>
    </section>
{% endblock content %}

{% block extra_js %}
    <script>
        const STATIC_URL = "{% static '' %}"; 
    </script>
    <script src="{% static 'js/script.js' %}"></script>
    <script src="{% static 'js/modal.js' %}"></script>

    <script>
    // Force modal open on page load if URL parameter exists
    document.addEventListener('DOMContentLoaded', function() {
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.get('show_login') === 'true') {
            console.log('Opening login modal from base.html');
            // Small delay to ensure all scripts are loaded
            setTimeout(() => {
                if (typeof openLoginModal === 'function') {
                    openLoginModal();
                } else {
                    console.error('openLoginModal function not found');
                }
            }, 100);
        }
    });
    </script>
{% endblock extra_js %}