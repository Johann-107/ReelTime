<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>Dashboard</title>
 {% load static %}
 <link rel="stylesheet" href="{% static 'css/index_header.css' %}">
 <link rel="stylesheet" href="{% static 'css/user_dashboard.css' %}">
 <link rel="stylesheet" href="{% static 'css/footer.css' %}">
 <style>
/* Basic CSS for the dashboard layout and movie display */
:root {
 --primary: #C73E1D;
 --secondary: #E86C23;
 --accent: #E8B923;
 --radius: 1rem;
 --shadow: 0 10px 25px rgba(0, 0, 0, 0.25);
 --dark-bg: #2b3a4a; /* A darker background for the main content area */
}

/* Override body background for a standard look */
body {
 background-color: #f8f8f8; /* Light background for dashboard content */
 color: #333;
 font-family: 'Poppins', sans-serif;
}

main {
 min-height: calc(100vh - 120px); /* Adjust based on your header/footer height */
 padding: 2rem 0;
 background-color: #f8f8f8;
}

.dashboard-container {
 max-width: 1200px;
 margin: 0 auto;
 padding: 0 1.5rem;
}

.welcome-header {
 background: var(--primary);
 color: white;
 padding: 2rem 1.5rem;
 margin-bottom: 2rem;
 border-radius: 0 0 var(--radius) var(--radius);
 text-align: center;
 box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}

.welcome-header h1 {
 font-size: 2.5rem;
 margin-bottom: 0.5rem;
}

.dashboard-section-title {
 font-size: 1.8rem;
 font-weight: 700;
 color: var(--secondary);
 text-align: center;
 margin-bottom: 1.5rem;
 padding-bottom: 0.5rem;
 border-bottom: 3px solid var(--accent);
 display: inline-block;
 width: 100%;
}

/* MOVIE GRID - Adjusted for 4 columns */
.movie-grid {
 display: grid;
 grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
 gap: 1.5rem;
 margin-bottom: 2rem;
}

@media (min-width: 1000px) {
 .movie-grid {
grid-template-columns: repeat(4, 1fr);
 }
}

.movie-card {
 background: #fff;
 color: #333;
 border-radius: var(--radius);
 overflow: hidden;
 box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
 transition: transform 0.3s, box-shadow 0.3s;
 text-align: center;
}

.movie-card:hover {
 transform: translateY(-4px);
 box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
}

.movie-poster {
 width: 100%;
 height: 320px; /* Slightly smaller than movies.html */
 object-fit: cover;
}

.movie-title {
 font-weight: 700;
 font-size: 1.1rem;
 color: var(--primary);
 margin-top: 0.5rem;
 padding: 0 0.5rem;
}

.movie-meta {
 color: #666;
 font-size: 0.85rem;
 opacity: 0.9;
 margin-bottom: 0.5rem;
}

.movie-rating {
 display: flex;
 align-items: center;
 justify-content: center;
 gap: 0.3rem;
 font-size: 0.9rem;
 color: gold;
 margin: 0.5rem 0 0.3rem;
}
.star-icon {
 width: 16px;
 height: 16px;
 fill: gold;
}

.movie-times {
 display: flex;
 flex-wrap: wrap;
 justify-content: center;
 gap: 0.5rem;
 padding: 0.5rem 0;
}

.time-slot {
 background: rgba(232, 108, 35, 0.1); 
 color: var(--secondary);
 font-size: 0.75rem;
 font-weight: 600;
 padding: 0.3rem 0.8rem; 
 border-radius: 999px;
 border: 1px solid var(--secondary);
 transition: background 0.2s;
}
.time-slot:hover {
 background: var(--secondary);
 color: white;
 cursor: pointer;
}

.movie-price {
 color: var(--accent);
 font-weight: 700;
 font-size: 1.2rem;
 margin: 0.5rem 0;
}

.book-btn {
 display: block;
 width: 90%;
 margin: 0 auto 1rem auto;
 padding: 0.75rem;
 background: var(--secondary);
 color: white;
 border: none;
 border-radius: var(--radius);
 font-weight: 600;
 text-decoration: none;
 transition: background 0.3s;
}

.book-btn:hover {
 background: var(--primary);
}

/* Pagination Styling */
.pagination {
 text-align: center;
 margin-top: 1.5rem;
}

.pagination button {
 background: var(--accent);
 color: #000;
 border: none;
 padding: 0.8rem 1.5rem;
 border-radius: var(--radius);
 font-weight: 700;
 cursor: pointer;
 transition: background 0.3s;
}

.pagination button:hover:not(:disabled) {
 background: var(--secondary);
 color: white;
}

.pagination button:disabled {
 background: #ccc;
 cursor: not-allowed;
}
 </style>
</head>
<body>
 
 {% include 'reel_time/partials/index_header.html' %}

 <div class="welcome-header">
<h1>Welcome Back, {{ user.username }}!</h1>
<p>You are now logged in. Explore what's showing now.</p>
 </div>

 <main>
<div class="dashboard-container">
 
 <h2 class="dashboard-section-title">Now Showing Movies</h2>

<div class="movie-grid" id="movieDashboardGrid">
 </div>
 
<div class="pagination">
<button id="prevPageBtn" disabled>Previous Page</button>
<button id="nextPageBtn">Next Page</button>
 </div>
 
</div>
 </main>

<script>
// Copy the STATIC_URL definition from movies.html
const STATIC_URL = "{% static '' %}"; 
 </script>
 <script src="{% static 'js/dashboard_movies.js' %}"></script>
 
 {% include 'reel_time/partials/footer.html' %}
</body>
</html>